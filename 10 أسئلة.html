<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ø®ØªØ¨Ø§Ø± Ø¯Ø±Ø³ Ø§Ù„Ø³ÙŠØ±Ø©</title>
<style>
    body {
        font-family: 'Tahoma', sans-serif;
        background-color: #f4f4f9;
        margin: 0;
        padding: 0;
        direction: rtl;
        font-size:30px
    }
    h1 {
        text-align: center;
        color: #2c3e50;
        margin-top: 20px;
    }
    .quiz-container {
        width: 80%;
        margin: auto;
        background: #fff;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0,0,0,0.2);
        margin-bottom: 30px;
    }
    .question {
        margin-bottom: 20px;
        font-weight: bold;
        color: #34495e;
        font-size:30px
    }
    .options label {
        display: block;
        background: #ecf0f1;
        padding: 8px;
        margin: 5px 0;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.3s;
    }
    .options label:hover {
        background: #dfe6e9;
    }
    .correct {
        background-color: #2ecc71 !important;
        color: white;
    }
    .wrong {
        background-color: #e74c3c !important;
        color: white;
    }
    button {
        display: block;
        width: 100%;
        padding: 15px;
        background: #2980b9;
        color: white;
        border: none;
        font-size: 25px;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 15px;
    }
    button:hover {
        background: #3498db;
    }
    #result {
        text-align: center;
        font-size: 30px;
        margin-top: 15px;
        font-weight: bold;
    }
    footer {
        text-align: center;
        font-size: 20px;
        color: black;
        font-weight:bold;
        margin: 20px 0;
    }
    input{
        text-align: center;
        font-size: 35px;
        padding:25px;
        color: black;
        font-weight:bold;
        margin: 20px 0;
    }
</style>
</head>
<body>
<h1>Ø§Ø®ØªØ¨Ø§Ø± Ø¯Ø±Ø³ Ø§Ù„Ø³ÙŠØ±Ø©</h1>
    
<input type="text" id="username" placeholder="Ø§Ù„Ø¥Ø³Ù…" required />
<div class="quiz-container" id="quiz"></div>
<button onclick="submitQuiz()">ØªØµØ­ÙŠØ­ Ø§Ù„Ø§Ø¬Ø§Ø¨Ø§Øª ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø¯Ø±Ø¬Ø©</button>
<div id="result"></div>
    
<footer>ØªÙ… ØµÙ†Ø¹Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„ØµÙŠØ§Ø¯</footer>

<script>
const quizData = [
    {
        question: "Ù…Ø§Ù‡Ùˆ Ø¯ÙˆØ± Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø§Ø¨ÙŠ Ø¨ÙƒØ± ÙÙŠ Ø§Ù„Ù‡Ø¬Ø±Ø©ØŸ",
        options: ["Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ Ø§Ù„Ù‡Ø¬Ø±Ø©", "ÙƒØ§Ù† ÙŠØ±Ø¹Ù‰ Ø§Ù„ØºÙ†Ù…", "ÙŠØ³Ù…Ø¹ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ù† Ù‚Ø±ÙŠØ´ ÙˆÙŠÙ†Ù‚Ù„Ù‡Ø§ Ù„Ù„Ù†Ø¨ÙŠ"],
        answer: "ÙŠØ³Ù…Ø¹ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ù† Ù‚Ø±ÙŠØ´ ÙˆÙŠÙ†Ù‚Ù„Ù‡Ø§ Ù„Ù„Ù†Ø¨ÙŠ"
    },
    {
        question: "Ø£ÙŠÙ† ØµÙ„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ Ø£ÙˆÙ„ Ø¬Ù…Ø¹Ø©ØŸ",
        options: ["Ø¹Ù†Ø¯ Ø¨Ù†ÙŠ Ø³Ø§Ù„Ù… Ø¨Ù† Ø¹ÙˆÙ", "ÙÙŠ Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", "ÙÙŠ Ù…Ø³Ø¬Ø¯ Ù‚Ø¨Ø§Ø¡"],
        answer: "Ø¹Ù†Ø¯ Ø¨Ù†ÙŠ Ø³Ø§Ù„Ù… Ø¨Ù† Ø¹ÙˆÙ"
    },
    {
        question: "Ù…Ø§ Ù‡Ùˆ Ø¯ÙˆØ± Ø¹Ø§Ù…Ø± Ø¨Ù† ÙÙ‡ÙŠØ±Ø© ÙÙŠ Ø§Ù„Ù‡Ø¬Ø±Ø©ØŸ",
        options: ["Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ Ø§Ù„Ù‡Ø¬Ø±Ø©", "ÙƒØ§Ù† ÙŠØ±Ø¹Ù‰ Ø§Ù„ØºÙ†Ù…","ÙŠØ³Ù…Ø¹ Ø§Ù„Ø§Ø®Ø¨Ø§Ø± Ù…Ù† Ù‚Ø±ÙŠØ´ ÙˆÙŠÙ†Ù‚Ù„Ù‡Ø§ Ù„Ù„Ù†Ø¨ÙŠ"],
        answer: "ÙƒØ§Ù† ÙŠØ±Ø¹Ù‰ Ø§Ù„ØºÙ†Ù…"
    },
    {
        question: "Ø§Ø¨Ù† Ù…Ù† Ø£Ø¨Ù†Ø§Ø¡ Ø£Ø¨ÙŠ Ø¨ÙƒØ± Ù„Ù… ÙŠØ³Ù„Ù… Ø­ØªÙ‰ Ø§Ù„Ù‡Ø¬Ø±Ø© ÙÙ…Ù† Ù‡ÙˆØŸ",
        options: ["Ø¹ÙƒØ±Ù…Ø©", "Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù†", "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡"],
        answer: "Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù†"
    },
    {
        question: "Ù…Ø§Ù‡ÙŠ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„ØªÙŠ Ø¹Ø±Ø¶Ù‡Ø§ ÙƒÙØ§Ø± Ù‚Ø±ÙŠØ´ Ù„Ù…Ù† ÙŠØ¬Ø¯ Ø§Ù„Ù†Ø¨ÙŠØŸ",
        options: ["Ù¡Ù Ù  Ù†Ø§Ù‚Ø©","Ù¡Ù Ù  Ø¯ÙŠÙ†Ø§Ø±","Ù¥Ù  Ù†Ø§Ù‚Ø©"],
        answer: "Ù¡Ù Ù  Ù†Ø§Ù‚Ø©"
    },
    {
        question: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø±Ø¬Ù„ Ø§Ù„Ø°ÙŠ Ø£Ø±Ø§Ø¯ Ø£Ù† ÙŠØ£Ø®Ø° Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© ÙˆØ­Ø¯Ù‡ ÙˆØ¹Ù…Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙØ§Ø±ØŸ",
        options: ["Ø¹ØªØ¨Ø© Ø¨Ù† Ø±Ø¨ÙŠØ¹Ø©", "Ø³Ø±Ø§Ù‚Ø© Ø¨Ù† Ù…Ø§Ù„Ùƒ", "Ø£Ø¨Ùˆ Ø¬Ù‡Ù„"],
        answer: "Ø³Ø±Ø§Ù‚Ø© Ø¨Ù† Ù…Ø§Ù„Ùƒ"
    },
    {
        question: "Ù„Ù…Ø§Ø°Ø§ Ù…ÙƒØ« Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨ Ø«Ù„Ø§Ø«Ø© Ø£ÙŠØ§Ù… Ù‚Ø¨Ù„ Ø£Ù† ÙŠÙ‡Ø§Ø¬Ø±ØŸ",
        options: ["Ø®ÙˆÙØ§ Ù…Ù† ÙƒÙØ§Ø± Ù‚Ø±ÙŠØ´", "Ù„Ø£Ù† Ø£Ø¨ÙˆÙ‡ Ù…Ù†Ø¹Ù‡ Ù…Ù† Ø§Ù„Ù‡Ø¬Ø±Ø©","Ù„ÙŠØ±Ø¯ Ø§Ù„Ø£Ù…Ø§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø£Ù‡Ù„Ù‡Ø§"],
        answer: "Ù„ÙŠØ±Ø¯ Ø§Ù„Ø£Ù…Ø§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø£Ù‡Ù„Ù‡Ø§"
    },
    {
        question: "ÙƒÙ… Ø§Ù„Ù…Ø¯Ø© Ø§Ù„ØªÙŠ Ù…ÙƒØ«Ù‡Ø§ Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ Ù…Ø³Ø¬Ø¯ Ù‚Ø¨Ø§Ø¡ØŸ",
        options: ["20 Ù„ÙŠÙ„Ø©", "15 Ù„ÙŠÙ„Ø©", "14 Ù„ÙŠÙ„Ø©"],
        answer: "14 Ù„ÙŠÙ„Ø©"
    },
    {
        question: "Ù…Ø§ Ø£Ø¬Ø± Ø±ÙƒØ¹ØªÙŠÙ† ÙÙŠ Ù…Ø³Ø¬Ø¯ Ù‚Ø¨Ø§Ø¡ØŸ",
        options: ["Ø£Ø¬Ø± Ø­Ø¬Ø©", "Ø£Ø¬Ø± Ø¹Ù…Ø±Ø©", "Ø£Ø¬Ø± 100 ØµÙ„Ø§Ø©"],
        answer: "Ø£Ø¬Ø± Ø¹Ù…Ø±Ø©"
    },
    {
        question: "Ù…Ø§Ù‡Ùˆ Ø£ÙˆÙ„ Ù…Ø³Ø¬Ø¯ Ø£Ø³Ø³ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ",
        options: ["Ù…Ø³Ø¬Ø¯ Ù‚Ø¨Ø§Ø¡", "Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ" , "Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ø£Ù…ÙˆÙŠ"],
        answer: "Ù…Ø³Ø¬Ø¯ Ù‚Ø¨Ø§Ø¡"
    }
];

function loadQuiz() {
    const quizContainer = document.getElementById('quiz');
    quizData.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.classList.add('question');
        questionDiv.innerHTML = `${index + 1}. ${q.question}`;
        const optionsDiv = document.createElement('div');
        optionsDiv.classList.add('options');
        q.options.forEach(option => {
            const label = document.createElement('label');
            label.innerHTML = `<input type="radio" name="q${index}" value="${option}"> ${option}`;
            optionsDiv.appendChild(label);
        });
        quizContainer.appendChild(questionDiv);
        quizContainer.appendChild(optionsDiv);
    });
}

function submitQuiz() {
    let name = document.getElementById("username").value.trim();
    if (name === "") {
        alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‚Ø¨Ù„ Ø¨Ø¯Ø¡ Ø§Ù„ØªØµØ­ÙŠØ­.");
        return;
    }

    let score = 0;
    const marksPerQuestion = 5;
    let answers = [];

    quizData.forEach((q, index) => {
        const selected = document.querySelector(`input[name="q${index}"]:checked`);
        document.querySelectorAll(`input[name="q${index}"]`).forEach(input => {
            if (input.value === q.answer){
                input.parentElement.classList.add('correct');
            } else if (selected && input.value === selected.value) {
                input.parentElement.classList.add('wrong');
            }
        });
        if (selected) {
            answers.push(selected.value);
            if (selected.value === q.answer) {
                score += marksPerQuestion;
            }
        } else {
            answers.push("Ø¨Ø¯ÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø©");
        }
    });

    let message = "Ø­Ø§ÙˆÙ„ ØªØ¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙŠØ§ " + name;
    if (score > 45) {
        message = "Ù…Ù…ØªØ§Ø² ÙŠØ§ " + name + " ðŸŽ‰";
    } else if (score > 30) {
        message = "Ø¬ÙŠØ¯ Ø¬Ø¯Ù‹Ø§ ÙŠØ§ " + name + " ðŸ‘";
    } else if (score > 0){
        message = "Ù…Ù…ÙƒÙ† ØªÙƒÙˆÙ† Ø£Ø­Ø³Ù† ÙŠØ§ " + name + " ðŸ’ª";
    }

    document.getElementById('result').innerText = 
      `Ø¯Ø±Ø¬ØªÙƒ ${score} Ù…Ù† 50 - ${message}`;

    // ðŸ”— Ø±Ø§Ø¨Ø· Web App Ù…Ù† Google Apps Script (ØºÙŠØ±Ù‡ Ø¨Ø±Ø§Ø¨Ø·Ùƒ)
    const scriptURL = "https://script.google.com/macros/s/AKfycbwpnMyrtOfBy3RxEatfy3CG5YUgRZR9ODeAssGAHlBZhFbVz4cdstKTabeu1o1Z4eudbw/exec";

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù€ Google Sheets
    fetch(scriptURL, {
        method: "POST",
        body: JSON.stringify({
            name: name,
            score: score,
            answers: answers
        }),
        headers: { "Content-Type": "application/json" }
    })
    .then(res => res.text())
    .then(msg => console.log("ØªÙ… Ø§Ù„Ø­ÙØ¸:", msg))
    .catch(err => console.error("Ø®Ø·Ø£:", err));

    // Ù‚ÙÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØªØµØ­ÙŠØ­
    document.querySelectorAll("input").forEach(el => el.disabled = true);
    document.querySelector("button").disabled = true;
}

loadQuiz();
</script>
</body>
</html>